### Установка и настройка Jest для Next.js

Чтобы настроить тестирование в Next.js, можно воспользоваться официальной документацией на сайте [nextjs.org](https://nextjs.org). Вот пошаговая инструкция:

---

### **1. Установка необходимых пакетов**

1. Установите основные зависимости для Jest и Testing Library:

    ```bash
    yarn add -D jest jest-environment-jsdom @testing-library/react @testing-library/dom @testing-library/jest-dom ts-node
    ```

2. Для TypeScript добавьте дополнительные пакеты:
    ```bash
    yarn add -D @testing-library/user-event @types/jest
    ```

---

### **2. Настройка конфигурации Jest**

1. Создайте файл `jest.config.ts` в корне вашего проекта.
2. Скопируйте конфигурацию с сайта [nextjs.org](https://nextjs.org) и вставьте её в этот файл.

    ```typescript
    import type {Config} from 'jest'
    import nextJest from 'next/jest.js'

    const createJestConfig = nextJest({
        // Provide the path to your Next.js app to load next.config.js and .env files in your test environment
        dir: './',
    })

    // Add any custom config to be passed to Jest
    const config: Config = {
        coverageProvider: 'v8',
        testEnvironment: 'jest-environment-jsdom',
        // aslises
        moduleNameMapper: {
            '^@/(.*)$': '<rootDir>/src/$1',
        },
        // Add more setup options before each test is run
        setupFilesAfterEnv: ['<rootDir>/jest.setup.ts'], // путь для подключения кастомных матчеров
    }

    // createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async
    export default createJestConfig(config)
    ```

---

### **3. Настройка кастомных матчеров для Jest**

1. Создайте файл `jest.setup.ts`.
2. Добавьте в него следующий импорт:
    ```typescript
    import '@testing-library/jest-dom'
    ```
    Этот импорт необходим для работы кастомных матчеров из `@testing-library/jest-dom`.

---

теперь запусть тесты
npx jest
